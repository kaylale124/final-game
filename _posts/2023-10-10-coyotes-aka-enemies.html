---
layout: default
title: Enemies
sprite: /images/wolf-animation2.png
type: hacks
courses: { compsci: {week: 7} }
---


<!DOCTYPE html>
<html>
{% assign spriteFile = site.baseurl | append: page.sprite %}


<head>
</head>
<body>
<div>
<canvas id="spriteContainer">
<!-- Within the base div is a canvas. An HTML canvas is used only for graphics. It allows the user to access some basic functions related to the image created on the canvas (including animation) -->
<img id="coyoteSprite" src="{{spriteFile}}"> <!-- change sprite here -->
</canvas>
</div>
</body>


<script>
    const coyoteSprite = new Image();
    coyoteSprite.onload = function() {
        // Run the first animate when the image is loaded
        animate();
    };
    coyoteSprite.src = '{{spriteFile}}';
    
    window.addEventListener('load', function () {
        const canvas = document.getElementById('spriteContainer');
        const ctx = canvas.getContext('2d');
        const SPRITE_WIDTH = 85;
        const SPRITE_HEIGHT = 165;
        const FRAME_LIMIT = 4;
        const SCALE_FACTOR = 1;
        canvas.width = SPRITE_WIDTH * SCALE_FACTOR;
        canvas.height = SPRITE_HEIGHT * SCALE_FACTOR;
    
        class Coyote {
            constructor({ position, image }) {
                this.image = image;
                this.x = 0;
                this.y = 0;
                this.minFrame = 0;
                this.maxFrame = FRAME_LIMIT;
                this.frameX = 0;
                this.frameY = 0;
                this.position = {
                    x: position.x,
                    y: position.y
                };
            }
    
            draw(context) {
                context.drawImage(
                    this.image,
                    this.frameX * SPRITE_WIDTH,
                    this.frameY * SPRITE_HEIGHT,
                    SPRITE_WIDTH,
                    SPRITE_HEIGHT,
                    this.x,
                    this.y,
                    canvas.width,
                    canvas.height
                );
            }
    
            update() {
                if (this.frameX < this.maxFrame) {
                    this.frameX++;
                } else {
                    this.frameX = 0;
                }
            }
        }
    
        class Grid {
            constructor() {
                this.position = {
                    x: 0,
                    y: 0
                };
                this.velocity = {
                    x: 0,
                    y: 0
                };
                this.coyotes = [];
    
                for (let i = 0; i < 10; i++) {
                    this.coyotes.push(new Coyote({
                        position: {
                            x: i * 30,
                            y: 0
                        },
                        image: coyoteSprite
                    }));
                }
            }
        }
    
        const grids = [];
    
        for (let i = 0; i < 5; i++) {
            grids.push(new Grid());
        }
    
        const frameRate = 5;
        const frameInterval = 1000 / frameRate;
        let lastFrameTime = 0;
    
        function animate(currentTime) {
            const deltaTime = currentTime - lastFrameTime;
    
            if (deltaTime >= frameInterval) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
    
                grids.forEach(grid => {
                    grid.coyotes.forEach(coyote => {
                        coyote.draw(ctx);
                        coyote.update();
                    });
                });
    
                lastFrameTime = currentTime;
                requestAnimationFrame(animate);
            } else {
                requestAnimationFrame(animate);
            }
        }
    
        animate();
    });
    </script>
    </html>